<div align='center'>
    <h1>Роли</h1>
    
    <table width="99%">
        <tr>   
            <th width="30%" align="center">
                <h3>Выдать</h3>
                <form action="/rules/give" method="POST">
                    Пользователю
                    <select name="selectNameId">
                        {{#each users}}
                            <option value="{{this.id}}">{{this.name}}</option>
                        {{/each}}
                    </select>
                    роль

                    <select name="selectRuleId">
                        {{#each rules}}
                            <option value="{{this.id}}">{{this.rule}}</option>
                        {{/each}}
                    </select>
                    <input type="submit" value="Добавить">
                </form>

            </th>
            
            
            <th width="30%" align="center">
                {{#if error}}
                    <p><font color='red'>{{error}}</font></p>
                {{/if}}
                <form action="/rules/newRole" method="POST">
                    <label><b>Новая роль</b></label><br>
                    <input name="rule" type="text" width="150"><br><br>
                    <input type="submit" value="Добавить">
                </form>

            </th>
            
            
            <th width="30%" align="center">
                <table border="1">
                    <caption>Список Ролей</caption>
                    <tr align="center">
                        <td></td>
                        <td width='100'><h3>Роль</h3></td>
                    </tr>
                    {{#each rules}}
                        <tr align="center">
                            <td>
                                <form action="/rules/deleteRule/{{this.id}}" method="POST">
                                    <button type="submit">Удалить роль</button>
                                </form>
                            </td>
                            <td><h3>{{this.rule}}</h3></td>
                        </tr>
                    {{/each}}
                </table>
            </th>
        
        
        </tr> 
        <tr>
            <th align="center">
                <h3>Выдать</h3>
                <form action="/rules/givePermission" method="POST">
                    Рарешение
                    <select name="selectPermissionId">
                        {{#each permissions}}
                            <option value="{{this.id}}">{{this.permission}}</option>
                        {{/each}}
                    </select>
                    роли
                    <select name="PermSelectRuleId">
                        {{#each rules}}
                            <option value="{{this.id}}">{{this.rule}}</option>
                        {{/each}}
                    </select>
                    <input type="submit" value="Добавить">
                </form>
            </th>
            
            
            <th align="center">
                {{#if error}}
                    <p><font color='red'>{{error}}</font></p>
                {{/if}}
                <form action="/rules/newPermission" method="POST">
                    <label><b>Новое разрешение</b></label><br>
                    <input name="NewPermission" type="text" width="150"><br><br>
                    <input type="submit" value="Добавить">
                </form>
            </th>
            
            
            <th align="center">
                <table border="1">
                    <caption>Список Разрешений</caption>
                    <tr align="center">
                        <td width='50'></td>
                        <td width='100'><h3>Разрешение</h3></td>
                    </tr>
                    {{#each permissions}}        
                        <tr align="center">
                            <td>
                                <form action="/rules/deletePermission/{{this.id}}" method="POST">
                                    <button type="submit">Удалить разрешение</button>
                                </form>
                            </td>
                            <td><h3>{{this.permission}}</h3></td>
                        </tr>
                    {{/each}}
                </table>
            </th>
        </tr>
        <tr>
            <th align="center">
                <table border="1">
                    <caption>Связь роли и разрешения</caption>
                    <tr align="center">
                        <td width='50'></td>
                        <td width='100'><h3>Роль</h3></td>
                        <td width='100'><h3>Разрешение</h3></td>
                    </tr>
                    {{#each rules_permissions}}        
                        <tr align="center">
                            <td>
                                <form action="/rules/deleteFromRule/{{this.id}}" method="POST">
                                    <button type="submit">Удалить связь</button>
                                </form>
                            </td>
                            <td><h3>{{this.rule}}</h3></td>
                            <td><h3>{{this.permission}}</h3></td>
                        </tr>
                    {{/each}}
                </table>
            </th>
            
            
            <th align="center">
                <table border="1">
                    <caption>Связь Роли и Имени</caption>
                    <tr align="center">
                        <td width='50'></td>
                        <td width='100'><h3>Роль</h3></td>
                        <td width='100'><h3>Имя</h3></td>
                    </tr>
                    {{#each rules_users}}        
                        <tr align="center">
                            <td>
                                <form action="/rules/deleteFromUser/{{this.id}}" method="POST">
                                    <button type="submit">Удалить связь</button>
                                </form>
                            </td>
                            <td><h3>{{this.rule}}</h3></td>
                            <td><h3>{{this.name}}</h3></td>
                        </tr>
                    {{/each}}
                </table>
            </th>
            
            
            <th align="center">
                <table border="1">
                    <caption>Разрешение Роль Имя</caption>
                    <tr align="center">
                        <td width='50'><h3>Разрешение</h3></td>
                        <td width='100'><h3>Роль</h3></td>
                        <td width='100'><h3>Имя</h3></td>
                    </tr>
                    {{#each data}}        
                        <tr align="center">
                            <td><h3>{{this.permission}}</h3></td>
                            <td><h3>{{this.rule}}</h3></td>
                            <td><h3>{{this.name}}</h3></td>
                        </tr>
                    {{/each}}
                </table>
            </th>
        </tr>
    </table>
    
    
</div>